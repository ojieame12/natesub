# ============================================
# NATE API - ENVIRONMENT CONFIGURATION
# ============================================
# Copy to .env and fill in your values

# App
NODE_ENV=development
PORT=3001
APP_URL=http://localhost:5173
API_URL=http://localhost:3001

# Database (Neon Serverless Postgres)
# For production with Neon, use TWO URLs:
#   DATABASE_URL       = Pooled connection (for queries) - use -pooler hostname or add ?pgbouncer=true
#   DIRECT_DATABASE_URL = Direct connection (for migrations) - use endpoint hostname
#
# Example (production):
#   DATABASE_URL=postgresql://user:pass@ep-xxx-pooler.region.aws.neon.tech/dbname?sslmode=require
#   DIRECT_DATABASE_URL=postgresql://user:pass@ep-xxx.region.aws.neon.tech/dbname?sslmode=require
#
# For local development, use the same URL for both (or just DATABASE_URL):
DATABASE_URL=postgresql://postgres:password@localhost:5432/nate
DIRECT_DATABASE_URL=postgresql://postgres:password@localhost:5432/nate

# Redis (Upstash)
REDIS_URL=redis://localhost:6379

# Auth (generate with: openssl rand -hex 32)
JWT_SECRET=
MAGIC_LINK_SECRET=
SESSION_SECRET=
MAGIC_LINK_EXPIRES_MINUTES=15

# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_ONBOARDING_RETURN_URL=http://localhost:5173/settings/payments/complete
STRIPE_ONBOARDING_REFRESH_URL=http://localhost:5173/settings/payments/refresh

# Flutterwave (optional)
FLUTTERWAVE_SECRET_KEY=
FLUTTERWAVE_WEBHOOK_SECRET=

# Email (Resend)
RESEND_API_KEY=re_...
EMAIL_FROM=Nate <hello@natepay.co>
# Optional: absolute URL to an email-safe logo image (PNG recommended).
# Gmail cannot load http://localhost images, so set this for local email tests.
EMAIL_LOGO_URL=

# Storage (Cloudflare R2)
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=nate-uploads
R2_PUBLIC_URL=https://uploads.natepay.co

# Feature flags
ENABLE_FLUTTERWAVE=false
ENABLE_SMS=false
ENABLE_WHATSAPP=false

# Bird SMS & WhatsApp (formerly MessageBird)
# Get these from your Bird dashboard: https://dashboard.bird.com
BIRD_ACCESS_KEY=
BIRD_WORKSPACE_ID=
BIRD_CHANNEL_ID=           # SMS channel ID
BIRD_WHATSAPP_CHANNEL_ID=  # WhatsApp channel ID (requires Meta approval)
BIRD_SENDER_ID=NatePay     # SMS sender name (alphanumeric, max 11 chars)

# Slack Alerts (optional)
SLACK_WEBHOOK_URL=
